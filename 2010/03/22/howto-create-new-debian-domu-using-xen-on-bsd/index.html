<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>HowTo: Create new Debian domU using Xen on *BSD - blog.dornea.nu</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




<style type="text/css">

/*some stuff for output/input prompts*/
div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.cell.selected{border-radius:4px;border:thin #ababab solid}
div.cell.edit_mode{border-radius:4px;border:thin #008000 solid}
div.cell{width:100%;padding:5px 5px 5px 0;margin:0;outline:none}
div.prompt{min-width:11ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}
@media (max-width:480px){div.prompt{text-align:left}}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}
div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;line-height:1.21429em}
div.prompt:empty{padding-top:0;padding-bottom:0}
div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:horizontal;-moz-box-align:stretch;display:box;box-orient:horizontal;box-align:stretch;}
div.inner_cell{width:90%;}
div.input_area{border:1px solid #cfcfcf;border-radius:4px;background:#f7f7f7;}
div.input_prompt{color:navy;border-top:1px solid transparent;}
div.output_wrapper{margin-top:5px;position:relative;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:4px;-webkit-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);-moz-box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);box-shadow:inset 0 2px 8px rgba(0, 0, 0, 0.8);}
div.output_collapsed{margin:0px;padding:0px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-box-align:stretch;display:-moz-box;-moz-box-orient:vertical;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;width:100%;}
div.out_prompt_overlay{height:100%;padding:0px 0.4em;position:absolute;border-radius:4px;}
div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000000;-moz-box-shadow:inset 0 0 1px #000000;box-shadow:inset 0 0 1px #000000;background:rgba(240, 240, 240, 0.5);}
div.output_prompt{color:darkred;}

a.anchor-link:link{text-decoration:none;padding:0px 20px;visibility:hidden;}
h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible;}
/* end stuff for output/input prompts*/


.highlight-ipynb .hll { background-color: #ffffcc }
.highlight-ipynb  { background: #f8f8f8; }
.highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */
.highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */
.highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */
.highlight-ipynb .o { color: #666666 } /* Operator */
.highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */
.highlight-ipynb .ge { font-style: italic } /* Generic.Emph */
.highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */
.highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */
.highlight-ipynb .go { color: #888888 } /* Generic.Output */
.highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */
.highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */
.highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */
.highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */
.highlight-ipynb .m { color: #666666 } /* Literal.Number */
.highlight-ipynb .s { color: #BA2121 } /* Literal.String */
.highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */
.highlight-ipynb .nb { color: #008000 } /* Name.Builtin */
.highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight-ipynb .no { color: #880000 } /* Name.Constant */
.highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */
.highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight-ipynb .nf { color: #0000FF } /* Name.Function */
.highlight-ipynb .nl { color: #A0A000 } /* Name.Label */
.highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight-ipynb .nv { color: #19177C } /* Name.Variable */
.highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */
.highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */
.highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */
.highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */
.highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */
.highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */
.highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */
.highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */
.highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */
.highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */
.highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */
.highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */
</style>

<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
div.entry-content {
  overflow: visible;
  padding: 8px;
}
.input_area {
  padding: 0.2em;
}

a.heading-anchor {
 white-space: normal;
}

.rendered_html
code {
 font-size: .8em;
}

pre.ipynb {
  color: black;
  background: #f7f7f7;
  border: none;
  box-shadow: none;
  margin-bottom: 0;
  padding: 0;
  margin: 0px;
  font-size: 13px;
}

/* remove the prompt div from text cells */
div.text_cell .prompt {
    display: none;
}

/* remove horizontal padding from text cells, */
/* so it aligns with outer body text */
div.text_cell_render {
    padding: 0.5em 0em;
}

img.anim_icon{padding:0; border:0; vertical-align:middle; -webkit-box-shadow:none; -box-shadow:none}
</style>

<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<script type="text/javascript">
init_mathjax = function() {
    if (window.MathJax) {
        // MathJax loaded
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
            },
            displayAlign: 'left', // Change this to 'center' to center equations.
            "HTML-CSS": {
                styles: {'.MathJax_Display': {"margin": 0}}
            }
        });
        MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
    }
}
init_mathjax();
</script>

<link rel="canonical" href="../../../../2010/03/22/howto-create-new-debian-domu-using-xen-on-bsd">

        <meta name="author" content="Victor" />
        <meta name="keywords" content="howto,network,virtualization" />
        <meta name="description" content="In this tutorial youâ€™ll get detailed information how to setup a fully functionable Debian Lenny system using virtualization software Xen. This entry was written due to high frustration caused by unreliable/outdated articles on the Internet and uncompleted tutorials. This here should be an attempt to describe the installation ..." />

        <meta property="og:site_name" content="blog.dornea.nu" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="HowTo: Create new Debian domU using Xen on *BSD"/>
        <meta property="og:url" content="../../../../2010/03/22/howto-create-new-debian-domu-using-xen-on-bsd"/>
        <meta property="og:description" content="In this tutorial youâ€™ll get detailed information how to setup a fully functionable Debian Lenny system using virtualization software Xen. This entry was written due to high frustration caused by unreliable/outdated articles on the Internet and uncompleted tutorials. This here should be an attempt to describe the installation ..."/>
        <meta property="article:published_time" content="2010-03-22" />
            <meta property="article:section" content="blog" />
            <meta property="article:tag" content="howto" />
            <meta property="article:tag" content="network" />
            <meta property="article:tag" content="virtualization" />
            <meta property="article:author" content="Victor" />

    <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@victordorneanu">
        <meta name="twitter:creator" content="@victordorneanu">
    <meta name="twitter:domain" content="../../../..">

    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../../theme/css/bootstrap.spacelab.min.css" type="text/css"/>
    <link href="../../../../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../../../../theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../../theme/css/style.css" type="text/css"/>

        <link href="../../../../feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="blog.dornea.nu ATOM Feed"/>




</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../../../" class="navbar-brand">
blog.dornea.nu            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/archives">Archives</a></li>
                    <li><a href="http://dornea.nu">About</a></li>
                         <li><a href="../../../../pages/books">
                             Books
                          </a></li>
                        <li class="active">
                            <a href="../../../../category/blog">Blog</a>
                        </li>
                        <li >
                            <a href="../../../../category/notes">Notes</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../../../../archives"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="../../../.." title="blog.dornea.nu"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="../../../../category/blog" title="blog">blog</a></li>
                <li class="active">HowTo: Create new Debian domU using Xen on *BSD</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="../../../../2010/03/22/howto-create-new-debian-domu-using-xen-on-bsd"
                       rel="bookmark"
                       title="Permalink to HowTo: Create new Debian domU using Xen on *BSD">
                        HowTo: Create new Debian domU using Xen on *BSD
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2010-03-22T00:00:00+01:00"> Mon 22 March 2010</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="../../../../category/blog">blog</a>


<span class="label label-default">Tags</span>
	<a href="../../../../tag/howto/">howto</a>
        /
	<a href="../../../../tag/network/">network</a>
        /
	<a href="../../../../tag/virtualization/">virtualization</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p><img class="trigger_lightbox mceItem" id="__mce" style="float: left; padding-right: 10px;" title="Xen - Debian + NetBSd" alt="Xen - Debian + NetBSd" src="http://static.dornea.nu/img/2010/4f84fcd0c434884b03a50531499c541c.jpg" width="150" height="113" />In this tutorial you&#8217;ll get detailed information how to setup a fully functionable Debian Lenny system using virtualization software <a href="http://xen.org/">Xen</a>. This entry was written due to high frustration caused by unreliable/outdated articles on the Internet and uncompleted tutorials. This here should be an attempt to describe the installation process completely and provide additional information which might help you solve common problems. The domU system we&#8217;d like to setup (in our case Debian) provides a neat <a href="http://en.wikipedia.org/wiki/NetBoot">netboot</a> installer which supports Xen. I don&#8217;t know &#8211; I don&#8217;t really have the time to look it up &#8211; if any other Linux distributions have such installer (nor if they support Xen at all) , so this howto might also apply &#8211; or not &#8211; to any other distribution. The same applies to the dom0 system: On your system shown shell commands might differ (different syntax)Â  as well as described methods (e.g. mount pseudo devices etc.). I used NetBSD 5.0_STABLE (amd64) on my system, so there should be no major differences to other BSD systems. If you use Linux as your host system, then you should seek forward since this paper is aimed to focus on *BSD papers. There are enough (good) tutorials out there you can rely on.<!--more--></p>
<!--break-->

<div id="toc_container" class="toc_wrap_right toc_transparent no_bullets">
  <p class="toc_title">
    Contents
  </p>

  <ul class="toc_list">
    <li>
      <a href="#Prerequisites"><span class="toc_number toc_depth_1">1</span> Prerequisites</a>
    </li>
    <li>
      <a href="#i"><span class="toc_number toc_depth_1">2</span> Â </a>
    </li>
    <li>
      <a href="#Step_1_Network_configuration"><span class="toc_number toc_depth_1">3</span> Step 1: Network configuration </a>
    </li>
    <li>
      <a href="#Step_2_Create_disk_container"><span class="toc_number toc_depth_1">4</span> Step 2: Create disk container</a>
    </li>
    <li>
      <a href="#i-2"><span class="toc_number toc_depth_1">5</span> Â </a>
    </li>
    <li>
      <a href="#Step_3_Get_Debian_kernel_and_ramdisk_file"><span class="toc_number toc_depth_1">6</span> Step 3: Get Debian kernel and ramdisk file</a>
    </li>
    <li>
      <a href="#i-3"><span class="toc_number toc_depth_1">7</span> Â </a>
    </li>
    <li>
      <a href="#Step_4_Xen_domU_configuration"><span class="toc_number toc_depth_1">8</span> Step 4: Xen domU configuration</a>
    </li>
    <li>
      <a href="#i-4"><span class="toc_number toc_depth_1">9</span> Â </a>
    </li>
    <li>
      <a href="#Step_5_Start_Xen_services"><span class="toc_number toc_depth_1">10</span> Step 5: Start Xen services</a>
    </li>
    <li>
      <a href="#i-5"><span class="toc_number toc_depth_1">11</span> Â </a>
    </li>
    <li>
      <a href="#Step_6_Install_Debian"><span class="toc_number toc_depth_1">12</span> Step 6: Install Debian</a>
    </li>
    <li>
      <a href="#i-6"><span class="toc_number toc_depth_1">13</span> </a>
    </li>
    <li>
      <a href="#Step_7_Start_your_fresh_new_Debian_system"><span class="toc_number toc_depth_1">14</span> Step 7: Start your fresh new Debian system</a>
    </li>
  </ul>
</div>

<h2 id="prerequisites"><span id="Prerequisites"><span style="text-decoration: underline;">Prerequisites</span></span></h2>
<p>At this point you should have a running Xen instance and have booted your dom0 (NetBSD with kernel XEN3_DOM0). You should have sth like this:</p>
<pre>$ uname -a
NetBSD BlackTiny 5.0_STABLE NetBSD 5.0_STABLE (XEN3_DOM0)</pre>

<p>Some technical details:</p>
<ul>
<li>System: <em>Lenovo Thinkpad x61 / NetBSD 5.0_STABLE (amd64)</em></li>
<li>pkgsrc branch: <em>2009Q4</em></li>
<li>Xen kernel: <em>xenkernel33-3.3.2</em></li>
<li>Xen tools: <em>xentools33-3.3.2nb1</em></li>
<li>Xen dom0 kernel: <em>NetBSD 5.0_STABLE</em></li>
</ul>
<h2 id="_1"><span id="i">Â </span></h2>
<h2 id="step-1-network-configuration"><span id="Step_1_Network_configuration"><strong><span style="text-decoration: underline;">Step 1: Network configuration</span><br /> </strong></span></h2>
<p>Now you&#8217;ll have to create a network bridge:</p>
<pre class="brush: plain; toolbar: false">$ ifconfig bridge0 create
$ ifconfig bridge0
bridge0: flags=0 mtu 1500</pre>

<p>Make sure you use an Intenet connection based on Ethernet (IEEE 802.3) since the Debian installer provides no WiFi modules (?). There have been several problems when using WiFi due to some data encapsulation issues. So be sure you have an active Internet connection based on Ethernet. Now you should add your Ethernet interface (wm0 on my system) to the network bridge we&#8217;ve created:</p>
<pre class="brush: plain; toolbar: false">$ brconfig -a
bridge0: flags=0
        Configuration:
                priority 32768 hellotime 2 fwddelay 15 maxage 20
                ipfilter disabled flags 0x0
        Interfaces:
        Address cache (max cache: 100, timeout: 1200):

$ brconfig bridge0 add wm0 stp wm0 up
$ brconfig bridge0
bridge0: flags=41 UP,RUNNING
        Configuration:
                priority 32768 hellotime 2 fwddelay 15 maxage 20
                ipfilter disabled flags 0x0
        Interfaces:
                wm0 flags=7 LEARNING,DISCOVER,STP
                        port 1 priority 128 path cost 55 listening
        Address cache (max cache: 100, timeout: 1200):</pre>

<p>This whole configuration stuff will be gone after reboot in case you don&#8217;t save it to some file. If you want your system to automaticallly create the bridge, then you&#8217;ll have to create &#8220;/etc/ifconfig.bridge0&#8243; and add these lines to it:</p>
<pre class="lang:default decode:true">create!brconfig $int add [your LAN interface]up</pre>

<p>Be sure to replace &#8220;[your LAN interface]&#8221; with the interface identifier on your system (in my case it would be wm0).</p>
<p>&nbsp;</p>
<h2 id="step-2-create-disk-container"><span id="Step_2_Create_disk_container"><span style="text-decoration: underline;"><strong>Step 2: Create disk container</strong></span></span></h2>
<p>After setting up the network stuff, you should now create a container (about 2GB) where Debian will be later on installed.</p>
<pre class="brush: plain; toolbar: false">$ dd if=/dev/zero of=Debian-Lenny.img bs=1m count=2048</pre>

<h2 id="_2"><span id="i-2">Â </span></h2>
<h2 id="step-3-get-debian-kernel-and-ramdisk-file"><span id="Step_3_Get_Debian_kernel_and_ramdisk_file"><span style="text-decoration: underline;"><strong>Step 3: Get Debian kernel and ramdisk file</strong></span></span></h2>
<p>In order to have a fully functionable Debian installation <strong>DON&#8217;T</strong> use <a href="http://people.debian.org/%7Ejoeyh/d-i/images/daily/">these</a> files. You&#8217;ll run into several problems which will keep you busy searching the Internet for the solutions. Instead you should use the i386-current Xen netboot installer from this<a href="ftp://ftp.debian.org/debian/dists/lenny/main/installer-i386/current/images/netboot/xen/"> link</a>. You should at least download:</p>
<ul>
<li>the kernel file (<a href="ftp://ftp.debian.org/debian/dists/lenny/main/installer-i386/current/images/netboot/xen/vmlinuz">vmlinuz</a>)</li>
<li>the ramdisk file (<a href="ftp://ftp.debian.org/debian/dists/lenny/main/installer-i386/current/images/netboot/xen/initrd.gz">initrd.gz</a>)</li>
</ul>
<p>to your local directory.</p>
<h2 id="_3"><span id="i-3">Â </span></h2>
<h2 id="step-4-xen-domu-configuration"><span id="Step_4_Xen_domU_configuration"><span style="text-decoration: underline;"><strong>Step 4: Xen domU configuration</strong></span></span></h2>
<p>Now let us configure then Xen domU at least with these options (see xm-debian.cfg):</p>
<pre class="brush: plain"># Initial memory allocation (in megabytes) for the new domain.
memory = 128

# A name for your domain. All domains must have different names.
name = "debianinstall"

# Define network interfaces
vif = ['bridge=bridge0']
...</pre>

<h2 id="_4"><span id="i-4">Â </span></h2>
<h2 id="step-5-start-xen-services"><span id="Step_5_Start_Xen_services"><span style="text-decoration: underline;"><strong>Step 5: Start Xen services</strong></span></span></h2>
<p>First be sure you have following entries in your /etc/rc.conf:</p>
<pre class="lang:default decode:true">xend=YES
xendomains=YES
xenbackendd=YES</pre>

<p>Additionally you can add:</p>
<pre class="lang:default decode:true">xendomains="domain.foo domain.bar"</pre>

<p>whereÂ  &#8220;domain.foo&#8221; and &#8220;domain.bar&#8221; are your Xen configs for these domains,<br />
i.e $LOCALBASE/etc/xen/domain.foo.In my case $LOCALBASE is defined as /usr/pkg.This will bring Xen to automatically start your DomUs. (thanks Marcin M. Jessa for this hint)</p>
<p>Then you should be able to start Xen services:</p>
<pre class="brush: plain">$ /usr/pkg/share/examples/rc.d/xend start
$ /usr/pkg/share/examples/rc.d/xenbackendd start
$ /usr/pkg/share/examples/rc.d/xendomains start</pre>

<h2 id="_5"><span id="i-5">Â </span></h2>
<h2 id="step-6-install-debian"><span id="Step_6_Install_Debian"><strong><span style="text-decoration: underline;">Step 6: Install Debian</span></strong></span></h2>
<p>Now you should be able to start the Debian installation process.</p>
<pre class="brush: plain">$ ls -l
-rw-r--r--  1 root  wheel  13796958 Mar  3 18:13 initrd.gz
-rw-r--r--  1 root  wheel   1548496 Mar  3 18:13 vmlinuz
-rw-r--r--  1 root  wheel      7733 Mar 21 18:46 xm-debian.cfg

$ $ sha1 vmlinuz 
SHA1 (vmlinuz) = becfb0b127c083b1444f896011564b1822423152
$ sha1 initrd.gz 
SHA1 (initrd.gz) = 11bc2711f08ed8a0863169c506ab88d69cf9f3cf</pre>

<p>You should now launch your Xen domU:</p>
<pre class="lang:default decode:true">$ xm create xm-debian.cfg install=true install-kernel=./vmlinuz install-ramdisk=./initrd.gz</pre>

<p>Since we use no framebuffer you should now switch to your console (by pressing CTRL+ALT + Fx, where X = 1 .. 8), login as root, cd to the previously listed directory and type:</p>
<pre class="lang:default decode:true">$ xm console debianinstall</pre>

<p>You should now have an attached console to Debian&#8217;s installer.</p>
<p><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/56c40ca6af90719b9b01fe0f322def4f.jpg"><img class="trigger_lightbox mceItem" title="Debian Install - Choose Language" alt="Debian Install - Choose Language" src="http://static.dornea.nu/img/2010/56c40ca6af90719b9b01fe0f322def4f.jpg" width="590" height="443" /></a></p>
<p>&nbsp;</p>
<p>The Debian installer should also configure network automatically by DHCP.</p>
<p><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/68192a4dc30356c7b294e0a403d76e89.jpg"><img class="trigger_lightbox mceItem" title="Debian Installer - Configure network by DHCP" alt="Debian Installer - Configure network by DHCP" src="http://static.dornea.nu/img/2010/68192a4dc30356c7b294e0a403d76e89.jpg" width="590" height="443" /></a></p>
<p><strong><span style="color: #ff0000;">If this fails, then you should go back to the main installer menu and &#8220;Execute a shell&#8221;. Afterwards run &#8220;dhclient eth0&#8243; as shown below:<br /> </span></strong></p>
<p><span class="trigger_lightbox"><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/6b570bf1a97c46df57bed8bf491d5b8f.jpg"><img class="trigger_lightbox mceItem" style="float: left; padding-right: 2px;" title="Debian Installer - Configure network manually" alt="Debian Installer - Configure network manually" src="http://static.dornea.nu/img/2010/6b570bf1a97c46df57bed8bf491d5b8f.jpg" width="313" height="207" /></a><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/bdaccf19b0a9aeaeb0d8974a1b4695e4.jpg"><img class="trigger_lightbox mceItem" title="Debian Installer - Configure network manually - dhclient eth0" alt="Debian Installer - Configure network manually - dhclient eth0" src="http://static.dornea.nu/img/2010/bdaccf19b0a9aeaeb0d8974a1b4695e4.jpg" width="275" height="206" /></a><br /> </span></p>
<p>Then proceed with the installation process&#8230;</p>
<p><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/4f84fcd0c434884b03a50531499c541c.jpg"><img class="trigger_lightbox mceItem" style="float: left; padding-right: 2px;" title="Debian Installer - Configure network / proceed with installation process" alt="Debian Installer - Configure network / proceed with installation process" src="http://static.dornea.nu/img/2010/4f84fcd0c434884b03a50531499c541c.jpg" width="295" height="220" /></a><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/560b3db8c519b3d8c561429dc840ed73.jpg"><img class="trigger_lightbox mceItem" title="Debian Installer - Network configuration succeeded" alt="Debian Installer - Network configuration succeeded" src="http://static.dornea.nu/img/2010/560b3db8c519b3d8c561429dc840ed73.jpg" width="295" height="221" /></a></p>
<p><span style="color: #ff0000;"><strong>Attention: </strong><span style="color: #000000;">When configuring the virtual disk, </span></span>have in mind that you should format your disk as ext2 and <strong>not as ext3</strong>. Ext3 is currently not supported by NetBSD. When you have reached the partitioning step, select the partition marked as ext3, press enter and change afterwards the file system type to ext2. Then you should select &#8220;Done setting up the partition&#8221; and press enter.</p>
<h2 id="_6"><span id="i-6"><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/8b9b3a02919c388d16d8bdd25c4fef01.jpg"><img class="trigger_lightbox mceItem" style="float: left; padding-right: 2px;" title="Debian Installer - Partitioning/ Change file system type to ext2" alt="Debian Installer - Partitioning/ Change file system type to ext2" src="http://static.dornea.nu/img/2010/8b9b3a02919c388d16d8bdd25c4fef01.jpg" width="293" height="220" /></a><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/cbd9626a2849d42d044ef161349e6bb7.jpg"><img class="trigger_lightbox mceItem" title="Debian Installer - Partitioning/ Change file system type to ext2" alt="Debian Installer - Partitioning/ Change file system type to ext2" src="http://static.dornea.nu/img/2010/cbd9626a2849d42d044ef161349e6bb7.jpg" width="295" height="221" /></a></span></h2>
<p><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/aaa8de2581873be2e1b1e13972f468f4.jpg"><img class="trigger_lightbox mceItem" style="float: left; padding-right: 2px;" title="Debian Installer - Partitioning/ Change file system type to ext2" alt="Debian Installer - Partitioning/ Change file system type to ext2" src="http://static.dornea.nu/img/2010/aaa8de2581873be2e1b1e13972f468f4.jpg" width="293" height="220" /></a><a class="trigger_lightbox" href="http://static.dornea.nu/img/2010/f3cb029d9740b3b32fc13e27af86a5af.jpg"><img class="trigger_lightbox mceItem" title="Debian Installer - Partitioning/ Change file system type to ext2" alt="Debian Installer - Partitioning/ Change file system type to ext2" src="http://static.dornea.nu/img/2010/f3cb029d9740b3b32fc13e27af86a5af.jpg" width="295" height="221" /></a></p>
<p>You should now go through the installation process without experiencing any troubles. At the end of the installation you won&#8217;t have to install grub nor any boot loader, so simply ignore the error messages and select &#8220;Continue&#8221;. Even if you should go back to the main installation menu, select &#8220;Continue without any boot loader&#8221; and everything will be alright.</p>
<h2 id="step-7-start-your-fresh-new-debian-system"><span id="Step_7_Start_your_fresh_new_Debian_system"><strong><span style="text-decoration: underline;">Step 7: Start your fresh new Debian system</span></strong></span></h2>
<p>First you&#8217;ll have to extract &#8220;vmlinuz&#8221; and &#8220;initrd.gz&#8221; from your local disk container. NetBSD provides vnconfig(8) to configure pseudo disk devices.</p>
<pre class="lang:default decode:true">$ vnconfig vnd0 Debian-Lenny.img
$ disklabel /dev/vnd0
# /dev/vnd0d:
type: vnd
disk: vnd
label: fictitious
flags:
bytes/sector: 512
sectors/track: 32
tracks/cylinder: 64
sectors/cylinder: 2048
cylinders: 1024
total sectors: 2097152
rpm: 3600
interleave: 1
trackskew: 0
cylinderskew: 0
headswitch: 0 # microseconds
track-to-track seek: 0 # microseconds
drivedata: 0

9 partitions:
# size offset fstype [fsize bsize cpg/sgs]
d: 2097152 0 unused 0 0 # (Cyl. 0 - 1023)
e: 1863477 63 Linux Ext2 0 0 # (Cyl. 0*- 909*)
i: 224847 1863603 swap # (Cyl. 909*- 1019*)
disklabel: boot block size 0
disklabel: super block size 0</pre>

<p>As expected we have a swap partition and a ext2 (!!!) file system. We&#8217;ll try now to mount it in order to extract the previously mentioned files:</p>
<pre class="lang:default decode:true">$ mount -t ext2fs /dev/vnd0e /mnt
$ file /mnt/vmlinuz /mnt/vmlinuz: symbolic link to `boot/vmlinuz-2.6.26-2-686-bigmem'
$ file /mnt/initrd.img /mnt/initrd.img: symbolic link to `boot/initrd.img-2.6.26-2-686-bigmem'</pre>

<p>Now all you&#8217;ll have to do is to copy these files to your local partition and use them in your domU configuration. On my laptop I&#8217;ve created /home/xen:</p>
<pre class="lang:default decode:true">$ ls -lR total 16
drwxr-xr-x 2 root wheel 512 Mar 22 17:04 conf
drwxr-xr-x 2 root wheel 512 Mar 6 22:07 container
drwxr-xr-x 2 root wheel 512 Mar 6 22:08 kernel
drwxr-xr-x 2 root wheel 512 Mar 6 22:06 ramdisk

./conf:
total 32
-rw-r--r-- 1 root wheel 2676 Mar 6 22:08 Debian-Lenny.conf

./container:
total 4195360
-rw-r--r-- 1 root users 2147483648 Mar 6 21:38 Debian-Lenny.img

./kernel:
total 3072
-rw-r--r-- 1 root wheel 1548304 Mar 5 18:03 Debian-Lenny-vmlinuz-2.6.26-2-686-bigmem

./ramdisk:
total 12192
-rw-r--r-- 1 root wheel 6214259 Mar 5 18:03 Debian-Lenny-initrd.img-2.6.26-2-686-bigmem</pre>

<p>Debian-Lenny.conf in <em>conf </em>contains:</p>
<pre class="lang:default decode:true crayon-selected"># Kernel image file. This kernel will be loaded in the new domain.
kernel = "/home/xen/kernel/Debian-Lenny-vmlinuz-2.6.26-2-686-bigmem"
ramdisk = "/home/xen/ramdisk/Debian-Lenny-initrd.img-2.6.26-2-686-bigmem"

# Memory allocation (in megabytes) for the new domain.
memory = 156

# A handy name for your new domain. This will appear in 'xm list',
# and you can use this as parameters for xm in place of the domain
# number. All domains must have different names.

name = "Debian-Lenny"
vif = [ 'mac=00:16:3e:2e:32:5f, bridge=bridge0' ]

disk = [ 'file:/home/xen/container/Debian-Lenny.img,xvda,w']

# Set root device.
root = "/dev/xvda"{/syntaxhighlighter}

Now for the final step, launch your Debian domU using:

{syntaxhighlighter brush: bash;fontsize: 100; first-line: 1; }$ cd conf
$ pwd/home/xen/conf
$ xen create -c Debian-Lenny.conf</pre>

<p>Thats it! I hope you enjoyed this HowTo and if you have any questions/unsolved issues, just drop me a mail and I&#8217;ll try to help.</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="../../../../2010/03/01/howto-qemu-networking-on-netbsd">HowTo: Qemu networking on NetBSD</a></li>
        <li><a href="../../../../2009/08/05/howto-ssh-tunnel-over-corkscrew-using-tor">HowTo: SSH-Tunnel over CorkScrew using Tor</a></li>
        <li><a href="../../../../2009/06/25/howto-rsyncrypto-the-backup-jewel">HowTo: RsynCrypto &#8211; The backup jewel</a></li>
        <li><a href="../../../../2011/03/19/my-own-cheap-nas-the-openwrt-way">My own cheap NAS &#8211; the OpenWRT way</a></li>
        <li><a href="../../../../2013/09/13/howto-automate-nmap-scanning">HowTo: Automate nmap scanning</a></li>
    </ul>
</section>
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
            <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
            <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    </div>
    <!-- AddThis Button END -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'dorneanu'; // required: replace example with your forum shortname

                    var disqus_identifier = 'howto-create-new-debian-domu-using-xen-on-bsd';
                var disqus_url = '../../../../2010/03/22/howto-create-new-debian-domu-using-xen-on-bsd';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="http://twitter.com/DaanDebie"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                <li class="list-group-item"><a href="http://www.linkedin.com/in/danieldebie"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                <li class="list-group-item"><a href="http://github.com/DandyDev"><i class="fa fa-github-square fa-lg"></i> github</a></li>
              </ul>
            </li>

            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="../../../../2015/07/01/debugging-android-native-shared-libraries">
                            Debugging Android native shared libraries
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../../2015/06/22/decode-adobe-flex-amf-protocol">
                            Decode Adobe Flex AMF protocol
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../../2015/06/03/usd-ag-hacker-day-in-hamburg">
                            usd AG Hacker Day in Hamburg
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../../2015/05/24/validating-and-pinning-x509-certificates">
                            Validating and pinning X.509 certificates
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../../2015/05/06/adding-concurrency-to-smalisca">
                            Adding concurrency to smalisca
                        </a>
                    </li>
                </ul>
            </li>

            <li class="list-group-item"><a href="../../../../"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                <ul class="list-group" id="categories">
                    <li class="list-group-item">
                        <a href="../../../../category/blog">
                            <i class="fa fa-folder-open fa-lg"></i> blog
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../../../../category/notes">
                            <i class="fa fa-folder-open fa-lg"></i> notes
                        </a>
                    </li>
                </ul>
            </li>

            <li class="list-group-item"><a href="../../../../"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/howto/">
                            howto
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/coding/">
                            coding
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/mobile/">
                            mobile
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/hacking/">
                            hacking
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/low/">
                            low
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/misc/">
                            misc
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/web/">
                            web
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/android/">
                            android
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/ipython/">
                            ipython
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/security/">
                            security
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/network/">
                            network
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="../../../../tag/wtf/">
                            wtf
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../tag/virtualization/">
                            virtualization
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../tag/appsec/">
                            appsec
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../tag/uncategorized/">
                            uncategorized
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../tag/note/">
                            note
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../tag/python/">
                            python
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="../../../../tag/wargames/">
                            wargames
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/burp/">
                            burp
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/fakebanker/">
                            fakebanker
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/pelican/">
                            pelican
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/androguard/">
                            androguard
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/code/">
                            code
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/java/">
                            java
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/events/">
                            events
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/programming/">
                            programming
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/crypto/">
                            crypto
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/ios/">
                            ios
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/networking/">
                            networking
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/graphviz/">
                            graphviz
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/re/">
                            re
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/c/">
                            c
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/sca/">
                            sca
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/books/">
                            books
                        </a>
                    </li>
                    <li class="list-group-item tag-3">
                        <a href="../../../../tag/blog/">
                            blog
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/eclipse/">
                            eclipse
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/infosec/">
                            infosec
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/droidbox/">
                            droidbox
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/blockdiag/">
                            blockdiag
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/apple/">
                            apple
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/javascript/">
                            javascript
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/jquery/">
                            jquery
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/adobe/">
                            adobe
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/docker/">
                            docker
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/octopress/">
                            octopress
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/whatsapp/">
                            whatsapp
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/viz/">
                            viz
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/tls/">
                            tls
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/pandoc/">
                            pandoc
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/science/">
                            science
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/flash/">
                            flash
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/iptables/">
                            iptables
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/smalisca/">
                            smalisca
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/linux/">
                            linux
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/cryptography/">
                            cryptography
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/debug/">
                            debug
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/x509/">
                            x509
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/ssl/">
                            ssl
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="../../../../tag/openssl/">
                            openssl
                        </a>
                    </li>
                </ul>
            </li>



    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
    </li>

    <li class="list-group-item"><h4><i class="fa fa-twitter fa-lg"></i><span class="icon-label">Latest Tweets</span></h4></li>
    <div id="twitter_timeline">
        <a class="twitter-timeline" data-chrome="noheader" href="https://twitter.com/victordorneanu" data-widget-id="468295751982784514">Tweets by victordorneanu</a>
    </div>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://dornea.nu/" target="_blank">
                dornea.nu
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://nullsecurity.net" target="_blank">
                nullsecurity.net
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://github.com/dorneanu" target="_blank">
                github.com/dorneanu
            </a>
        </li>
        <li class="list-group-item">
            <a href="https://github.com/nullsecurity" target="_blank">
                github.com/nullsecurity
            </a>
        </li>
      </ul>
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Victor Dorneanu
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="../../../../theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../../theme/js/respond.min.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '../../../../theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'dorneanu',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="../../../../theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'dorneanu'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-7161767-3']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

        <script type="text/javascript">var addthis_config = {"data_track_addressbar": true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-559fc4045bb79811"></script>
</body>
</html>